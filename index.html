<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesti√≥n de Viajes en Bus</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>üöå Gesti√≥n de Viajes en Bus</h1>
            <p id="todayDate"></p>
        </div>
        
        <!-- NAVEGACI√ìN -->
        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showScreen('mainScreen')">üè† Inicio</button>
            <button class="nav-tab" onclick="showScreen('travelScreen')">üöó Viajes</button>
            <button class="nav-tab" onclick="showScreen('guardScreen')">üõ°Ô∏è Guardias</button>
            <button class="nav-tab" onclick="showScreen('backupScreen')">üíæ Backup</button>
        </div>
        
        <!-- PANTALLA PRINCIPAL -->
        <div id="mainScreen" class="screen active">
            <!-- RESUMEN CONSOLIDADO -->
            <div id="consolidatedSummary" class="consolidated-summary">
                <!-- Se llena din√°micamente -->
            </div>
            
            <!-- RESUMEN GENERAL -->
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>Total Viajes</h3>
                    <div class="number" id="totalTravels">0</div>
                </div>
                <div class="summary-card">
                    <h3>Kil√≥metros Totales</h3>
                    <div class="number" id="totalKm">0</div>
                </div>
                <div class="summary-card">
                    <h3>Vi√°ticos Totales</h3>
                    <div class="number" id="totalViaticos">0</div>
                </div>
                <div class="summary-card">
                    <h3>Total Guardias</h3>
                    <div class="number" id="totalGuards">0</div>
                </div>
                <div class="summary-card">
                    <h3>Horas de Guardia</h3>
                    <div class="number" id="totalGuardHours">0</div>
                </div>
                <div class="summary-card">
                    <h3>Viajes Hoy</h3>
                    <div class="number" id="todayTravels">0</div>
                </div>
            </div>
            
            <!-- VIAJES RECIENTES -->
            <div class="table-container">
                <h3 style="padding: 20px; background: #34495e; color: white; margin: 0;">üìã Viajes Recientes</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Orden</th>
                            <th>Ruta</th>
                            <th>KM</th>
                            <th>Horario</th>
                            <th>Vi√°tico</th>
                        </tr>
                    </thead>
                    <tbody id="recentTravels">
                        <!-- Se llena din√°micamente -->
                    </tbody>
                </table>
            </div>
            
            <!-- FORMULARIO R√ÅPIDO VIAJE -->
            <div class="form-container">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">‚ûï Agregar Viaje R√°pido</h3>
                <form id="travelForm" onsubmit="addTravel(event)">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div class="form-group">
                            <label for="orderNumber">N√∫mero de Orden *</label>
                            <input type="text" id="orderNumber" required>
                        </div>
                        <div class="form-group">
                            <label for="origin">Origen *</label>
                            <input type="text" id="origin" required>
                        </div>
                        <div class="form-group">
                            <label for="destination">Destino *</label>
                            <input type="text" id="destination" required>
                        </div>
                        <div class="form-group">
                            <label for="km">Kil√≥metros *</label>
                            <input type="number" id="km" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="travelType">Tipo de Viaje</label>
                            <select id="travelType">
                                <option value="normal">Normal</option>
                                <option value="especial">Especial</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="turnoSeleccionado">Turno</label>
                            <select id="turnoSeleccionado">
                                <option value="directo">Directo</option>
                                <option value="normal">Normal</option>
                                <option value="manual">Manual (Guardar como favorito)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="departureTime">Hora Salida *</label>
                            <input type="time" id="departureTime" required>
                        </div>
                        <div class="form-group">
                            <label for="arrivalTime">Hora Llegada *</label>
                            <input type="time" id="arrivalTime" required>
                        </div>
                        <div class="form-group">
                            <label for="fechaViaje">Fecha (opcional)</label>
                            <input type="date" id="fechaViaje">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">‚ûï Agregar Viaje</button>
                </form>
            </div>
        </div>
        
        <!-- PANTALLA VIAJES -->
        <div id="travelScreen" class="screen">
            <div class="form-container">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">üöó Gesti√≥n de Viajes</h3>
                <form id="travelFormDetailed" onsubmit="addTravel(event)">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div class="form-group">
                            <label for="orderNumberTravels">N√∫mero de Orden *</label>
                            <input type="text" id="orderNumberTravels" required>
                        </div>
                        <div class="form-group">
                            <label for="originTravels">Origen *</label>
                            <input type="text" id="originTravels" required>
                        </div>
                        <div class="form-group">
                            <label for="destinationTravels">Destino *</label>
                            <input type="text" id="destinationTravels" required>
                        </div>
                        <div class="form-group">
                            <label for="kmTravels">Kil√≥metros *</label>
                            <input type="number" id="kmTravels" step="0.1" required>
                        </div>
                        <div class="form-group">
                            <label for="travelTypeTravels">Tipo de Viaje</label>
                            <select id="travelTypeTravels">
                                <option value="normal">Normal</option>
                                <option value="especial">Especial</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="turnoSeleccionadoTravels">Turno</label>
                            <select id="turnoSeleccionadoTravels">
                                <option value="directo">Directo</option>
                                <option value="normal">Normal</option>
                                <option value="manual">Manual (Guardar como favorito)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="departureTimeTravels">Hora Salida *</label>
                            <input type="time" id="departureTimeTravels" required>
                        </div>
                        <div class="form-group">
                            <label for="arrivalTimeTravels">Hora Llegada *</label>
                            <input type="time" id="arrivalTimeTravels" required>
                        </div>
                        <div class="form-group">
                            <label for="fechaViajeTravels">Fecha (opcional)</label>
                            <input type="date" id="fechaViajeTravels">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">‚ûï Agregar Viaje</button>
                </form>
            </div>
            
            <!-- LISTA DE VIAJES -->
            <div class="table-container">
                <h3 style="padding: 20px; background: #34495e; color: white; margin: 0;">üìã Todos los Viajes</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Orden</th>
                            <th>Origen</th>
                            <th>Destino</th>
                            <th>KM</th>
                            <th>Horario</th>
                            <th>Vi√°tico</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="travelList">
                        <!-- Se llena din√°micamente -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- PANTALLA GUARDIAS -->
        <div id="guardScreen" class="screen">
            <div class="form-container">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">üõ°Ô∏è Gesti√≥n de Guardias</h3>
                <form id="guardForm" onsubmit="addGuard(event)">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <div class="form-group">
                            <label for="guardOrderNumber">N√∫mero de Orden *</label>
                            <input type="text" id="guardOrderNumber" required>
                        </div>
                        <div class="form-group">
                            <label for="guardDriverName">Nombre Conductor *</label>
                            <input type="text" id="guardDriverName" required>
                        </div>
                        <div class="form-group">
                            <label for="guardStartTime">Hora Inicio *</label>
                            <input type="time" id="guardStartTime" required>
                        </div>
                        <div class="form-group">
                            <label for="guardEndTime">Hora Fin *</label>
                            <input type="time" id="guardEndTime" required>
                        </div>
                        <div class="form-group">
                            <label for="guardType">Tipo de Guardia</label>
                            <select id="guardType">
                                <option value="diurna">Diurna</option>
                                <option value="nocturna">Nocturna</option>
                                <option value="mixta">Mixta</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="guardFecha">Fecha (opcional)</label>
                            <input type="date" id="guardFecha">
                        </div>
                    </div>
                    <button type="submit" class="btn-primary">‚ûï Agregar Guardia</button>
                </form>
            </div>
            
            <!-- LISTA DE GUARDIAS -->
            <div class="table-container">
                <h3 style="padding: 20px; background: #34495e; color: white; margin: 0;">üìã Todas las Guardias</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Orden</th>
                            <th>Conductor</th>
                            <th>Horario</th>
                            <th>Horas</th>
                            <th>Tipo</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="guardList">
                        <!-- Se llena din√°micamente -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- PANTALLA BACKUP -->
        <div id="backupScreen" class="screen">
            <div class="form-container">
                <h3 style="margin-bottom: 20px; color: #2c3e50;">üíæ Backup y Restauraci√≥n</h3>
                
                <!-- EXPORTAR DATOS -->
                <div style="margin-bottom: 30px;">
                    <h4 style="color: #27ae60; margin-bottom: 15px;">üì§ Exportar Datos</h4>
                    <div class="backup-actions">
                        <button class="backup-btn" onclick="exportData()">üíæ Backup Completo</button>
                        <button class="backup-btn" onclick="exportTravels()">üöó Solo Viajes</button>
                        <button class="backup-btn" onclick="exportGuards()">üõ°Ô∏è Solo Guardias</button>
                    </div>
                </div>
                
                <!-- IMPORTAR DATOS -->
                <div style="margin-bottom: 30px;">
                    <h4 style="color: #3498db; margin-bottom: 15px;">üì• Importar Datos</h4>
                    <div class="form-group">
                        <label for="backupFile">Seleccionar archivo JSON de backup</label>
                        <input type="file" id="backupFile" accept=".json">
                        <div id="importStatus" style="margin-top: 10px; font-weight: bold;"></div>
                    </div>
                    <button class="backup-btn" onclick="importData()" style="margin-top: 10px;">üîÑ Restaurar Backup</button>
                </div>
                
                <!-- HERRAMIENTAS -->
                <div>
                    <h4 style="color: #e74c3c; margin-bottom: 15px;">‚öôÔ∏è Herramientas</h4>
                    <div class="backup-actions">
                        <button class="backup-btn warning" onclick="generateSampleData()">üéØ Generar Datos de Ejemplo</button>
                        <button class="backup-btn danger" onclick="clearAllData()">üóëÔ∏è Eliminar Todos los Datos</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>











































































