<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GestiÃ³n de Viajes</title>
<link rel="stylesheet" href="style.css">

<style>
.screen {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  overflow: auto;
  background: white;
}
.screen.active { display: block; }
</style>
</head>
<body>

<!-- ================== MAIN SCREEN ================== -->
<div id="mainScreen" class="screen active">

  <div class="logo-container">
    <h1>GestiÃ³n de Viajes</h1>
    <p>Sistema de control de flota</p>
  </div>

  <h2>Â¿QuÃ© deseas hacer?</h2>

  <p id="ordenActivaInfo">ğŸ”´ Sin jornada activa</p>

  <button onclick="createOrderUI()">â–¶ï¸ Iniciar Jornada</button>
  <button onclick="closeActiveOrderUI()">â¹ï¸ Cerrar Jornada</button>

  <hr>

  <button onclick="abrirViajeSimple()">ğŸš— Nuevo Viaje</button>

  <button onclick="showScreen('listaViajesScreen'); 
                   renderListaViajes(); 
                   renderResumenDia();">
    ğŸ“‹ Ver Viajes
  </button>

  <!-- âœ… GUARDIAS SEPARADAS (CORRECTO) -->
  <button onclick="showScreen('nuevaGuardiaScreen')">
  â• Registrar Guardia
</button>


  <button onclick="showScreen('listaGuardiasScreen');
                   renderListaGuardias();
                   renderResumenDia();">
    ğŸ•’ Ver Guardias
  </button>

</div> <!-- âœ… CIERRE CLAVE DEL MAIN SCREEN -->

<!-- ================== NUEVO VIAJE ================== -->
<div id="travelScreen" class="screen">

  <button onclick="showScreen('mainScreen'); renderResumenDia();">
    â† Volver
  </button>

  <h2>Nuevo Viaje</h2>

  <form onsubmit="addTravelUI(event); return false;">

    <label>NÂº Orden</label>
    <input id="orderNumberTravels" readonly>

    <label>Origen</label>
    <input id="originTravels" value="Montevideo" readonly>

    <label>Destino (escribÃ­ o pegÃ¡)</label>
    <input id="destinationTravels"
           oninput="autoKmPorDestino(false)"
           onblur="autoKmPorDestino(true)">

    <div id="sugerenciasRutas"
         style="border:1px solid #ccc;
                display:none;
                background:white;
                max-height:180px;
                overflow:auto;
                margin-top:5px;
                border-radius:6px;">
    </div>

    <label>Servicio</label>
    <select id="numeroServicio" onchange="actualizarInfoServicio()">
      <option value="">ElegÃ­ servicio...</option>
      <option value="TURNO">Turno</option>
      <option value="SEMI">Semi-directo</option>
      <option value="DIRECTO">Directo (con acoplado)</option>
      <option value="EXPRESO">Expreso / VacÃ­o</option>
      <option value="CONTRATADO">Contratado (Guardia especial)</option>
    </select>

    <label>KilÃ³metros (auto)</label>
    <input id="kmTravels" type="number" readonly>

    <button type="submit">Guardar Viaje</button>
  </form>

</div>

<!-- ================== LISTA VIAJES ================== -->
<div id="listaViajesScreen" class="screen">

  <button onclick="showScreen('mainScreen'); renderResumenDia();">
    â† Volver
  </button>

  <h2>Lista de Viajes</h2>

  <table border="1" width="100%">
    <thead>
      <tr>
        <th>#</th>
        <th>Hora</th>
        <th>Destino</th>
        <th>KM</th>
        <th>Servicio</th>
        <th>Acoplado</th>
        <th>Monto</th>
      </tr>
    </thead>
    <tbody id="listaViajesContainer"></tbody>
  </table>

  <h3 style="margin-top:20px;">Resumen del dÃ­a</h3>
  <div id="resumenDia"></div>

</div>

<!-- ================== GUARDIAS (NUEVA VERSION) ================== -->
<div id="nuevaGuardiaScreen" class="screen">

  <button onclick="showScreen('mainScreen')">â† Volver</button>

  <h2>Registrar Guardia</h2>

  <form onsubmit="addGuardUI(event); return false;">

    <label>DÃ­a</label>
    <input id="diaGuardia" type="date">

    <label>Hora inicio</label>
    <input id="horaInicioGuardia" type="time">

    <label>Hora fin</label>
    <input id="horaFinGuardia" type="time">

    <label>Tipo de guardia</label>
    <select id="tipoGuardia">
      <option value="">ElegÃ­ tipo...</option>
      <option value="comun">Guardia comÃºn</option>
      <option value="especial">Guardia especial</option>
    </select>

    <button type="submit">Guardar Guardia</button>

  </form>
</div>

<!-- ================== LISTA GUARDIAS ================== -->
<div id="listaGuardiasScreen" class="screen">

  <button onclick="showScreen('mainScreen')">â† Volver</button>

  <h2>Guardias registradas</h2>

  <table border="1" width="100%">
    <thead>
      <tr>
        <th>#</th>
        <th>Hora</th>
        <th>Tipo</th>
        <th>Horas</th>
      </tr>
    </thead>
    <tbody id="listaGuardiasContainer"></tbody>
  </table>

</div>

<!-- ======= MUY IMPORTANTE: SCRIPTS VAN AL FINAL DE TODO ======= -->
<script src="core.js"></script>
<script src="app_nuevo.js"></script>

</body>
</html>








































































